<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:of="http://omnifaces.org/functions"
      xmlns:composite="http://java.sun.com/jsf/composite"
>
<composite:interface>

    <composite:attribute name="value"/>

</composite:interface>

<composite:implementation>

    <p:dataTable var="annot" value="#{cc.attrs.value}" emptyMessage="No annotations found with given criteria">
        <p:column headerText="Qualifier">
            <h:outputText value="#{annot.qualifier}"/>
        </p:column>
        <p:column headerText="Evidence">
            <h:outputText value="#{annot.evidence.evidence}"/>
        </p:column>
        <p:column>
            <f:facet name="header">
                <h:outputText value="Category"/>
                <p:commandButton id="categoryHelpBtn-#{cc.id}" value=""
                                 styleClass="no-value no-background fa-fix" icon="fa fa-question-circle"
                                 title="Help"
                                 type="button"/>
                <p:overlayPanel for="categoryHelpBtn-#{cc.id}" hideEffect="fade"
                                style="width:400px;text-align:left;">
                    <p>Manually-assigned evidence codes fall into four general
                        categories: experimental, computational analysis, author
                        statements, and curatorial statements. Out of all the evidence codes available, only Inferred
                        from Electronic Annotation (IEA) is not assigned by a curator.</p>
                    <p:lightBox>
                        <h:outputLink
                                value="/gotrack/javax.faces.resource/diag-evCodeFlowChartGood.png?ln=img"
                                title="Evidence Code Flow Chart">
                            <h:graphicImage library="img" width="100" height="56"
                                            name="diag-evCodeFlowChartGood.png"/>
                        </h:outputLink>
                    </p:lightBox>
                </p:overlayPanel>
            </f:facet>

            <h:outputText value="#{annot.evidence.category}"/>
        </p:column>
        <p:column headerText="Description">
            <h:outputText value="#{annot.evidence.description}"/>
        </p:column>
        <p:column headerText="Reference">
            <h:outputText value="#{annot.reference}"/>
        </p:column>
        <f:facet name="footer">
            <!-- &#8203 is a zero-width space so that the div container leaves space for the status text -->
            &#8203;
        </f:facet>
    </p:dataTable>

</composite:implementation>
</html>